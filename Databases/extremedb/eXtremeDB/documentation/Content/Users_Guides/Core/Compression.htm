<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="extremedb.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="[%=System.LinkedTitle%]|[%=System.LinkedTitle%]">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Data Compression</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/KB_Style.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/FunctionReference.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="TopicContent">
            <div class="nocontent">
                <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="7" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">ToC path: </span>
                </div>
            </div>
            <h1>Data Compression</h1>
            <blockquote>
                <p>For large databases it can be important to conserve memory and/or disk space by using data compression techniques. As explained in the following sections, <i>e</i>X<i>treme</i>DB provides this capability for in-memory and persistent databases. </p>
                <p>It is also possible to compress the data sent in communications between server and device in <i>e</i>X<i>treme</i>DB<i> Active Replication Fabric</i> networks. Operating in low-bandwidth networks requires techniques to compress the network traffic. To solve this problem for all network components of <i>e</i>X<i>treme</i>DB at once, the compression is implemented at the <a href="../../Getting_Started/Package_Contents/Libraries.htm">SAL layer</a> as a wrapper for the <code>mco_socket_t</code> abstraction. This allows applying compression to any kind of supported socket types (plain TCP, SSL, local-domain, UDP, etc.). The actual work is done with the third-party stream compression library <a href="https://zlib.net/">Zlib</a> .</p>
                <p>
                    <img src="../../Resources/Images/note.png" /> Note that database compression is not compatible with encryption; you must choose either to use encryption or compression. But not both.</p>
                <h2>In-Memory Database Compression</h2>
                <p>In-memory compression may be useful in cases like the following:</p>
                <blockquote>
                    <p>1.	The data is very sparse; i.e. there are a lot of fixed size zero padded strings, mostly empty arrays, scalar fields containing mostly zeros, etc.</p>
                    <p>2.	The database doesn't fit in main memory without compression.</p>
                    <p>3.	Persistence is not needed or not possible (no disk).</p>
                </blockquote>
                <p>When in-memory compression is enabled, all data is compressed; i.e. pages are stored in memory in compressed format and are decompressed when accessed by the application. </p>
                <p>
                    <img src="../../Resources/Images/note.png" /> Note that the database parameters <code>compression_mask</code> and <code>expected_compression_ratio</code> allow source code licensees to modify the data compression process for in-memory pages. But additional configuration settings are also required. Please contact McObject Technical Support for implementation details if in-memory page compression is desired.</p>
                <p>
                    <img src="../../Resources/Images/note.png" /> Note also that in-memory compression cannot be used for hybrid databases (containing both transient and persistent classes) because this would require substituting the in-memory page manager with the disk page manager. These page managers are implemented in two separate libraries and only one page manager library can be linked into the application.</p>
                <h2>Persistent Database Compression</h2>
                <p> Persistent database compression is available only on Unix-like systems (Linux, MacOS, Solaris, etc.). It uses an LZ compression algorithm which builds a dictionary mapping integer codes to unique sequences of characters. (Please refer to the following link for a  more detailed description of the algorithm: <a href="https://en.wikipedia.org/wiki/Lempel-Ziv-Welch">https://en.wikipedia.org/wiki/Lempel-Ziv-Welch</a>).</p>
                <p>
                    <img src="../../Resources/Images/note.png" /> Note that database compression is not compatible with encryption; you must choose either to use encryption or compression. But not both.</p>
                <p>
                    <img src="../../Resources/Images/note.png" /> Note also that in-memory compression cannot be used for hybrid databases (containing both transient and persistent classes) because this would require substituting the in-memory page manager with the disk page manager. These page managers are implemented in two separate libraries and only one page manager library can be linked into the application.</p>
                <p>
                    <img src="../../Resources/Images/note.png" /> Further, note that CRC checking may not be enabled simultaneously with compression because compression implements its own CRC.</p>
                <h2>RLE Compression for Sequences</h2>
                <p>For <a href="Sequences.htm">sequence</a> data it is possible to optimize space using "Run Length Encoding (RLE ) compression. Please see page <a href="RLE_Compression.htm">RLE Compression</a> for implementation details.)</p>
                <h2>Data Compression for IoT Communications</h2>
                <p>In <i>e</i>X<i>treme</i>DB<i> Active Replication Fabric</i> networks, that data transfer within the network can be compressed. The communications between IoT server-device pairs will be compressed only if both sides (server and device) have appropriate compression level settings. All communicating components <b>must use the same compression level value</b>. But the IoT server can define two connections (two listen ports), one with and one without compression, and devices must connect to one of these ports depending on their compression settings.</p>
                <p>The actual efficiency of the compression can be evaluated by examining <i>compression ratio</i> parameters that show the ratio between the original and compressed size of the data transmitted, both for incoming and outgoing communications. The formula is <code>ratio = (original_size - compressed_size) * 100 / original_size</code>.</p>
                <p>So <code>0%</code> means the worst case or no compression: <code>original size</code> is equal to <code>compressed size</code>; <code>100%</code> means the ideal compression: <code>compressed size</code> is negligible compared to the <code>original size</code>. For example, if data was compressed from <code>100Kb</code> to <code>30Kb</code>, the compression ratio will be <code>70%</code>.</p>
                <h2>Native Language APIs</h2>
                <p class="BodyParagraph">The APIs for data compression are specific to the programming language used. Please use the links below to view detailed explanations and examples  for your development environment:</p>
                <table class="TableStyle-FunctionReference" style="margin-left: 0;margin-right: auto;mc-table-style: url('../../Resources/TableStyles/FunctionReference.css');" cellspacing="0">
                    <col class="TableStyle-FunctionReference-Column-Column2" style="width: 51px;" />
                    <col class="TableStyle-FunctionReference-Column-Column2" style="width: 196px;" />
                    <tbody>
                        <tr class="TableStyle-FunctionReference-Body-Body1">
                            <td class="TableStyle-FunctionReference-BodyE-Column2-Body1"><a href="Compression/Compression_C.htm">C</a>
                            </td>
                            <td class="TableStyle-FunctionReference-BodyD-Column2-Body1">Data Compression in C</td>
                        </tr>
                        <tr class="TableStyle-FunctionReference-Body-Body1">
                            <td class="TableStyle-FunctionReference-BodyE-Column2-Body1"><a href="Compression/Compression_Cpp.htm">C++</a>
                            </td>
                            <td class="TableStyle-FunctionReference-BodyD-Column2-Body1"> Data Compression in C++</td>
                        </tr>
                        <tr class="TableStyle-FunctionReference-Body-Body1">
                            <td class="TableStyle-FunctionReference-BodyE-Column2-Body1"><a href="../xSQL/xSQL_Compression_Encryption.htm">xSQL</a>
                            </td>
                            <td class="TableStyle-FunctionReference-BodyD-Column2-Body1">Data Compression using <span style="color: #000000; font-style: italic; font-weight: normal;">xSQL</span></td>
                        </tr>
                        <tr class="TableStyle-FunctionReference-Body-Body1">
                            <td class="TableStyle-FunctionReference-BodyE-Column2-Body1"><a href="Compression/Compression_Java.htm">Java</a>
                            </td>
                            <td class="TableStyle-FunctionReference-BodyD-Column2-Body1">Data Compression in Java</td>
                        </tr>
                        <tr class="TableStyle-FunctionReference-Body-Body1">
                            <td class="TableStyle-FunctionReference-BodyE-Column2-Body1"><a href="Compression/Compression_Python.htm">Python</a>
                            </td>
                            <td class="TableStyle-FunctionReference-BodyD-Column2-Body1">Data Compression in Python</td>
                        </tr>
                        <tr class="TableStyle-FunctionReference-Body-Body1">
                            <td class="TableStyle-FunctionReference-BodyB-Column2-Body1"><a href="Compression/Compression_Csharp.htm">C#</a>
                            </td>
                            <td class="TableStyle-FunctionReference-BodyA-Column2-Body1">Data Compression in C#</td>
                        </tr>
                    </tbody>
                </table>
            </blockquote>
            <p style="font-size: 6pt;margin-top: 0;margin-bottom: 0;">&#160;</p>
            <hr width="100%" size="0" align="center" />
            <p class="copyright" style="font-size: 8pt;"><a href="../../Copyright_Notice.htm" title="Copyright Notice" alt="Copyright Notice">© 2001-2019 McObject LLC. All rights reserved</a>.</p>
            <p class="copyright" style="font-size: 8pt;">&#160;</p>
            <p class="copyrightFeedback" style="font-size: 8pt;"><a href="mailto:Support@McObject.com?subject=Online Documentation feedback">Send feedback</a> <span style="color: #000000;">on this topic to McObject. </span></p>
        </div>
    </body>
    <script id="MCO-LINKS">/* <![CDATA[ */
		(function(){
		var isFramed = false;
		try {
		isFramed = window != window.top || document != top.document || self.location != top.location;
		} catch (e) {
		isFramed = true;
		}
		if (!isFramed) {
		var link1 = document.createElement('a');
		link1.setAttribute('href','#');
		link1.setAttribute('id','back-id');
		link1.setAttribute('title','Go back');
		link1.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="#555555"><path d="M0 0h24v24H0z" fill="none" /><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z" /></svg>';
		var link2 = document.createElement('a');
		link2.setAttribute('href','/');
		link2.setAttribute('title','Go to mcobject.com');
		link2.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="#555555"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z" /><path d="M0 0h24v24H0z" fill="none" /></svg>';
		var link3 = document.createElement('a');
		link3.setAttribute('href','/docs/extremedb.htm');
		link3.setAttribute('title','Go to table of content');
		link3.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="#555555"><path d="M3 9h14V7H3v2zm0 4h14v-2H3v2zm0 4h14v-2H3v2zm16 0h2v-2h-2v2zm0-10v2h2V7h-2zm0 6h2v-2h-2v2z" /><path d="M0 0h24v24H0z" fill="none" /></svg>';
		var el = document.createElement('div');
		el.style.cssText = 'position:fixed;display:flex;flex-direction:column;right:16px;top:8px;background:#f7f7f7;box-shadow:4px 4px 4px #777777;padding:4px 8px;';
		el.appendChild(link1);
		el.appendChild(link2);
		el.appendChild(link3);
		document.body.append(el);
		document.querySelector('#back-id').addEventListener('click',function(e){e.preventDefault(); window.history.back();});
		}
		})();
	/* ]]> */</script>
</html>