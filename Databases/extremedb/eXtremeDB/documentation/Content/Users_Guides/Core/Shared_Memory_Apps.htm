<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="extremedb.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="[%=System.LinkedTitle%]|[%=System.LinkedTitle%]">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Shared Memory Applications</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/KB_Style.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/FunctionReference.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="TopicContent">
            <div class="nocontent">
                <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="7" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">ToC path: </span>
                </div>
            </div>
            <h1>Shared Memory Applications </h1>
            <blockquote>
                <p><i>e</i>X<i>treme</i>DB allows two or more processes in a multi-processing operating environment (for example, Linux and Windows platforms) to share a common database.</p>
                <h2>Overview</h2>
                <p>In order to share the data between multiple processes, the database must be created in shared memory.  Multiple threads within a process share the memory of that process.  The shared memory that is used by the <i>e</i>X<i>treme</i>DB<a name="kanchor10"></a> runtime is architecture and operating system dependent.  In some environments, the <i>e</i>X<i>treme</i>DB runtime uses a System V shared memory mechanism (for example, Sun Solaris and Linux) while for others it uses POSIX style shared memory.  On Microsoft Windows platforms there is yet another shared memory mechanism.  When the database is created, the runtime allocates two shared memory segments: one for the <i>e</i>X<i>treme</i>DB “registry” that keeps information about all database instances created on the machine, and another segment for the data itself.  All database operations are then done via <i>e</i>X<i>treme</i>DB standard interfaces.</p>
                <h2>Implementation</h2>
                <p><i>e</i>X<i>treme</i>DB shared memory applications are different in two ways from database applications that use conventional memory: </p>
                <blockquote>
                    <p>1) they must link with the shared-memory runtime libraries, and </p>
                    <p>2) the shared database is opened in only one process while other processes simply connect to it.</p>
                </blockquote>
                <p>The shared-memory libraries are operating system dependent and are explained in detail in the <a href="../../Getting_Started/Package_Contents.htm">package contents</a> pages.  </p>
                <p>&#160;</p>
                <h2>Shared Memory Runtime Options</h2>
                <p>The <i>e</i>X<i>treme</i>DB runtime must be informed of shared memory configuration through runtime options. The shared memory options are OS specific.</p>
                <h3>For Windows applications</h3>
                <p>There are two groups of runtime options: one for determining the scope of the shared memory block name (local or global), and one for determining the security level applied to the shared memory block. The combination of options are applied to the name specified in the shared (named) memory block device. Please see the <a href="#Native">Native Language APIs</a> section for instructions on setting these runtime options for your development environment.</p>
                <h3>For Linux applications</h3>
                <p>Linux shared memory applications use the POSIX function <code>mmap()</code> to provide mapping of virtual shared memory to a current process. (See <code>man</code> page <code><a href="http://man7.org/linux/man-pages/man2/mmap.2.html">http://man7.org/linux/man-pages/man2/mmap.2.html</a></code> for details). Please see the <a href="#Native">Native Language APIs</a> section for instructions on setting these runtime options for your development environment.</p>
                <h3>For Unix applications</h3>
                <p>On Unix systems the shared memory access mode is specified by the Unix specific value of file system access rights. Shared memory and semaphores have the same system of permissions as ordinary files to restrict access by processes of different users and groups. (Unix file access permissions are described here: <code><a href="https://en.wikipedia.org/wiki/File_system_permissions">https://en.wikipedia.org/wiki/File_system_permissions</a></code>).</p>
                <h2>Shared memory on MacOS and some Linux systems</h2>
                <p>When developing <i>e</i>X<i>treme</i>DB applications on MacOS it might be necessary to reconfigure system shared memory settings – even for applications that do not intentionally use shared memory. This is because a small amount of shared memory is allocated to processes by default. (Actually, this is not only a Mac problem; some Linux distributions have similar settings by default.)</p>
                <p>To resolve this the default shared memory settings should be changed by editing (or creating) file <code>/etc/sysctl.conf</code> with the following settings:</p>
                <div class="code-block"><pre>&#160;
    kern.sysv.shmmax=1073741824
    kern.sysv.shmall=262144
    kern.sysv.shmmin=1
    kern.sysv.shmseg=32
    kern.sysv.shmmni=128
    &#160;</pre>
                </div>
                <p>This allocates up to 1Gb of shared memory to a process. (Please refer to the following article for more details: <code><a href="http://www.spy-hill.net/help/apple/SharedMemory.html">http://www.spy-hill.net/help/apple/SharedMemory.html.)</a></code></p>
                <p>&#160;</p>
                <h2><a name="Native"></a>Native Language APIs</h2>
                <p class="BodyParagraph">The APIs for shared memory applications are specific to the programming language used. Please use the links below to view detailed explanations and examples  for your development environment:</p>
                <table class="TableStyle-FunctionReference" style="margin-left: 0;margin-right: auto;mc-table-style: url('../../Resources/TableStyles/FunctionReference.css');" cellspacing="0">
                    <col class="TableStyle-FunctionReference-Column-Column2" style="width: 51px;" />
                    <col class="TableStyle-FunctionReference-Column-Column2" />
                    <tbody>
                        <tr class="TableStyle-FunctionReference-Body-Body1">
                            <td class="TableStyle-FunctionReference-BodyE-Column2-Body1"><a href="Shared_Memory/Shared_Memory_C.htm">C</a>
                            </td>
                            <td class="TableStyle-FunctionReference-BodyD-Column2-Body1">Shared memory applications in C</td>
                        </tr>
                        <tr class="TableStyle-FunctionReference-Body-Body1">
                            <td class="TableStyle-FunctionReference-BodyE-Column2-Body1"><a href="Shared_Memory/Shared_Memory_Cpp.htm">C++</a>
                            </td>
                            <td class="TableStyle-FunctionReference-BodyD-Column2-Body1">Shared memory applications in C++</td>
                        </tr>
                        <tr class="TableStyle-FunctionReference-Body-Body1">
                            <td class="TableStyle-FunctionReference-BodyE-Column2-Body1">Java</td>
                            <td class="TableStyle-FunctionReference-BodyD-Column2-Body1">Shared memory applications  in Java</td>
                        </tr>
                        <tr class="TableStyle-FunctionReference-Body-Body1">
                            <td class="TableStyle-FunctionReference-BodyE-Column2-Body1">Python</td>
                            <td class="TableStyle-FunctionReference-BodyD-Column2-Body1">Shared memory applications in Python</td>
                        </tr>
                        <tr class="TableStyle-FunctionReference-Body-Body1">
                            <td class="TableStyle-FunctionReference-BodyB-Column2-Body1"><a href="Shared_Memory/Shared_Memory_Csharp.htm">C#</a>
                            </td>
                            <td class="TableStyle-FunctionReference-BodyA-Column2-Body1">Shared memory applications in C#</td>
                        </tr>
                    </tbody>
                </table>
            </blockquote>
            <p style="font-size: 6pt;margin-top: 0;margin-bottom: 0;">&#160;</p>
            <hr width="100%" size="0" align="center" />
            <p class="copyright" style="font-size: 8pt;"><a href="../../Copyright_Notice.htm" title="Copyright Notice" alt="Copyright Notice">© 2001-2019 McObject LLC. All rights reserved</a>.</p>
            <p class="copyright" style="font-size: 8pt;">&#160;</p>
            <p class="copyrightFeedback" style="font-size: 8pt;"><a href="mailto:Support@McObject.com?subject=Online Documentation feedback">Send feedback</a> <span style="color: #000000;">on this topic to McObject. </span></p>
        </div>
    </body>
    <script id="MCO-LINKS">/* <![CDATA[ */
		(function(){
		var isFramed = false;
		try {
		isFramed = window != window.top || document != top.document || self.location != top.location;
		} catch (e) {
		isFramed = true;
		}
		if (!isFramed) {
		var link1 = document.createElement('a');
		link1.setAttribute('href','#');
		link1.setAttribute('id','back-id');
		link1.setAttribute('title','Go back');
		link1.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="#555555"><path d="M0 0h24v24H0z" fill="none" /><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z" /></svg>';
		var link2 = document.createElement('a');
		link2.setAttribute('href','/');
		link2.setAttribute('title','Go to mcobject.com');
		link2.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="#555555"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z" /><path d="M0 0h24v24H0z" fill="none" /></svg>';
		var link3 = document.createElement('a');
		link3.setAttribute('href','/docs/extremedb.htm');
		link3.setAttribute('title','Go to table of content');
		link3.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="#555555"><path d="M3 9h14V7H3v2zm0 4h14v-2H3v2zm0 4h14v-2H3v2zm16 0h2v-2h-2v2zm0-10v2h2V7h-2zm0 6h2v-2h-2v2z" /><path d="M0 0h24v24H0z" fill="none" /></svg>';
		var el = document.createElement('div');
		el.style.cssText = 'position:fixed;display:flex;flex-direction:column;right:16px;top:8px;background:#f7f7f7;box-shadow:4px 4px 4px #777777;padding:4px 8px;';
		el.appendChild(link1);
		el.appendChild(link2);
		el.appendChild(link3);
		document.body.append(el);
		document.querySelector('#back-id').addEventListener('click',function(e){e.preventDefault(); window.history.back();});
		}
		})();
	/* ]]> */</script>
</html>