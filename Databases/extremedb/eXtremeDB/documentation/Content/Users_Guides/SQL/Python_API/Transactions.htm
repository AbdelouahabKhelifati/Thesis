<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="extremedb.xml" data-mc-path-to-help-system="../../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Programming with eXtremeDB|[%=System.LinkedTitle%]|[%=System.LinkedTitle%]|[%=System.LinkedTitle%]">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Managing eXtremeSQL Transactions in Python</title>
        <link href="../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../../Resources/Stylesheets/KB_Style.css" rel="stylesheet" />
        <script src="../../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="TopicContent">
            <div class="nocontent">
                <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="7" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">ToC path: </span>
                </div>
            </div>
            <h1>Managing <i>e</i>X<i>treme</i>SQL Transactions in Python</h1>
            <blockquote>
                <p>All <i>e</i>X<i>treme</i>DB database access is performed within transactions to assure database integrity by enforcing the <code>ACID</code> principles (see the <a href="../../Core/Transaction_Control.htm"><i>e</i>X<i>treme</i>DB User Guide</a> for a detailed description of transaction processing). When using the <i>e</i>X<i>treme</i>SQL API, transaction processing is <code>implicit</code><a name="kanchor872"></a>, i.e. transactions are started and committed by the runtime without requiring explicit function calls.  Specifically, the <i>Cursor</i> method <code>execute()</code> starts and closes a <code>READ_ONLY</code> transaction when performing an SQL <code>SELECT</code> (unless the <code>FOR UPDATE</code> clause is specified), and a <code>READ_WRITE</code> transaction when performing <code>INSERT</code>, <code>UPDATE</code> or <code>DELETE</code> statements. </p>
                <p>These <code>implicit</code> transactions are managed internally by the SQL engine and for most database operations the application developer need not be concerned with the transaction interface.  However, some applications need to perform updates that require transaction blocking that spans more than one SQL statement.</p>
                <p>To take control of SQL transaction processing in Python, the SQL <code>start transaction</code>, <code>commit transaction</code> and/or <code>rollback transaction</code> statements are used.  For example:</p>
            </blockquote>
            <blockquote>
                <div class="code-block"><pre>&#160;
    cursor = conn.cursor()
    cursor.execute("START TRANSACTION");
    cursor.execute("UPDATE MyTable SET b=5 WHERE a=4");
    cursor.execute("CHECKPOINT TRANSACTION");
    cursor.execute("INSERT INTO MyTable VALUES(1,2)");
    cursor.execute("COMMIT TRANSACTION");
    &#160;</pre>
                </div>
            </blockquote>
            <blockquote>
                <h2>Checkpoint and Autocheckpoint</h2>
                <p>As explained in the <a href="../SQL_Transaction_Control.htm"><i>e</i>X<i>treme</i>SQL Transaction Control</a> page, a <b>checkpoint</b> operation may be necessary in complex transactions to update indexes prior to the <b>transaction commit</b>. For example:</p>
                <div class="code-block"><pre>    &#160;
    cursor = conn.cursor()
    cursor.execute("START TRANSACTION");
    cursor.execute("UPDATE MyTable SET b=5 WHERE a=4");
    cursor.execute("CHECKPOINT TRANSACTION");
    cursor.execute("SELECT * FROM MyTable WHERE a=4");
    ...
    cursor.execute("COMMIT TRANSACTION");
    &#160;</pre>
                </div>
                <p>To enable the <b>autocheckpoint</b> feature, call the SQL function <code>autocheckpoint()</code> with argument value <code>1</code>; to disable use argument value<code> 0</code>.  For example:</p>
                <div class="code-block"><pre>&#160;
    cursor = conn.cursor()
    cursor.execute("select autocheckpoint(1)")
    cursor.execute("START TRANSACTION");
    cursor.execute("UPDATE MyTable SET b=5 WHERE a=4");
    cursor.execute("SELECT * FROM MyTable WHERE a=4");
    ...
    cursor.execute("COMMIT TRANSACTION");
    &#160;</pre>
                </div>
            </blockquote>
            <p style="font-size: 6pt;margin-top: 0;margin-bottom: 0;">&#160;</p>
            <hr width="100%" size="0" align="center" />
            <p class="copyright" style="font-size: 8pt;"><a href="../../../Copyright_Notice.htm" title="Copyright Notice" alt="Copyright Notice">Â© 2001-2019 McObject LLC. All rights reserved</a>.</p>
            <p class="copyright" style="font-size: 8pt;">&#160;</p>
            <p class="copyrightFeedback" style="font-size: 8pt;"><a href="mailto:Support@McObject.com?subject=Online Documentation feedback">Send feedback</a> <span style="color: #000000;">on this topic to McObject. </span></p>
        </div>
    </body>
    <script id="MCO-LINKS">/* <![CDATA[ */
		(function(){
		var isFramed = false;
		try {
		isFramed = window != window.top || document != top.document || self.location != top.location;
		} catch (e) {
		isFramed = true;
		}
		if (!isFramed) {
		var link1 = document.createElement('a');
		link1.setAttribute('href','#');
		link1.setAttribute('id','back-id');
		link1.setAttribute('title','Go back');
		link1.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="#555555"><path d="M0 0h24v24H0z" fill="none" /><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z" /></svg>';
		var link2 = document.createElement('a');
		link2.setAttribute('href','/');
		link2.setAttribute('title','Go to mcobject.com');
		link2.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="#555555"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z" /><path d="M0 0h24v24H0z" fill="none" /></svg>';
		var link3 = document.createElement('a');
		link3.setAttribute('href','/docs/extremedb.htm');
		link3.setAttribute('title','Go to table of content');
		link3.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="#555555"><path d="M3 9h14V7H3v2zm0 4h14v-2H3v2zm0 4h14v-2H3v2zm16 0h2v-2h-2v2zm0-10v2h2V7h-2zm0 6h2v-2h-2v2z" /><path d="M0 0h24v24H0z" fill="none" /></svg>';
		var el = document.createElement('div');
		el.style.cssText = 'position:fixed;display:flex;flex-direction:column;right:16px;top:8px;background:#f7f7f7;box-shadow:4px 4px 4px #777777;padding:4px 8px;';
		el.appendChild(link1);
		el.appendChild(link2);
		el.appendChild(link3);
		document.body.append(el);
		document.querySelector('#back-id').addEventListener('click',function(e){e.preventDefault(); window.history.back();});
		}
		})();
	/* ]]> */</script>
</html>