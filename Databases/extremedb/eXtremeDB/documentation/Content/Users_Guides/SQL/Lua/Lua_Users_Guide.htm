<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="extremedb.xml" data-mc-path-to-help-system="../../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="[%=System.LinkedTitle%]|[%=System.LinkedTitle%]|[%=System.LinkedTitle%]|[%=System.LinkedTitle%]">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Using Lua with eXtremeSQL</title>
        <link href="../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../../Resources/Stylesheets/KB_Style.css" rel="stylesheet" />
        <link href="../../../Resources/TableStyles/IndentedFunctionReference.css" rel="stylesheet" />
        <script src="../../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="TopicContent">
            <div class="nocontent">
                <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="7" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">ToC path: </span>
                </div>
            </div>
            <h1>Using Lua with <i>e</i>X<i>treme</i>SQL</h1>
            <blockquote>
                <p><i>e</i>X<i>treme</i>SQL supports the <i>Lua</i> programming language using the <i>LuaJIT</i> translator.  The <i>LuaJIt</i> 2.1.0-beta3 is recommended and can be found at <a href="http://luajit.org/">http://luajit.org/</a>. <i>LuaJIT</i> is a low-level scripting language that is translated directly to machine code; also a low-level FFI interface is used internally to directly call native functions. This provides good performance, but may not be error-proof, so programming with <i>LuaJIT</i> requires attention. <i>e</i>X<i>treme</i>SQL packages include the appropriate version of <i>Lua</i> with some modifications to the <i>Lua</i> libraries to support specific <i>e</i>X<i>treme</i>SQL implementation needs. <i>Lua</i> syntax is described in <a href="../../../Appendix/LUA_Support.htm">Appendix C</a>.</p>
                <p>Though <i>Lua</i> is not available as a native language <i>e</i>X<i>treme</i>DB API, it can be used to access <i>e</i>X<i>treme</i>DB databases in the context of the <i>e</i>X<i>treme</i>SQL engine. The <i>Lua</i> language can be used for both user defined functions and for performing scripts in <i>Lua</i> language.</p>
                <p>A user defined function (UDF) is a <i>Lua</i> program that executes on the server, can be called like any other SQL function and can return results to the SQL engine as a query result or to use in subsequent SQL subqueries. In fact, This UDF acts as an extension to the server.  A UDF can be one of two types:</p>
                <ul>
                    <li value="1"><b>Value returning UDF</b>: This type of UDF returns a single value of a particular type which is defined when UDF is created.</li>
                    <li value="2"><b>Result set returning UDF: </b>This type of UDF will return a result set, and can be used in any context where a table would appear in a query. To create result set returning UDF, a table definition is required. The structure of the result will match that table, which referred to when the UDF is created. The table may or may not have any data, it will not be referred to outside of the UDF.</li>
                </ul>
                <p>Using <i>Lua</i> as a script, which works as a separate program, it is possible to create a database, connect to an existing database, perform DDL and DML statements and process query results.</p>
                <p>Please use links in the following table to view topics of interest:</p>
                <table class="TableStyle-IndentedFunctionReference" style="margin-left: 0;margin-right: auto;mc-table-style: url('../../../Resources/TableStyles/IndentedFunctionReference.css');" cellspacing="0">
                    <col class="TableStyle-IndentedFunctionReference-Column-Column1" style="width: 167px;" />
                    <col class="TableStyle-IndentedFunctionReference-Column-Column2" />
                    <tbody>
                        <tr class="TableStyle-IndentedFunctionReference-Body-Body1">
                            <td class="TableStyle-IndentedFunctionReference-BodyE-Column1-Body1"><a href="Quick_Start.htm">Quick Start</a>
                            </td>
                            <td class="TableStyle-IndentedFunctionReference-BodyD-Column2-Body1">Setting up the <i>Lua</i> environment</td>
                        </tr>
                        <tr class="TableStyle-IndentedFunctionReference-Body-Body1">
                            <td class="TableStyle-IndentedFunctionReference-BodyE-Column1-Body1"><a href="Data_Types.htm">Data Type Mappings</a>
                            </td>
                            <td class="TableStyle-IndentedFunctionReference-BodyD-Column2-Body1"><i>Lua</i> Data Types</td>
                        </tr>
                        <tr class="TableStyle-IndentedFunctionReference-Body-Body1">
                            <td class="TableStyle-IndentedFunctionReference-BodyE-Column1-Body1"><a href="User_Defined_Functions.htm">Creating UDFs</a>
                            </td>
                            <td class="TableStyle-IndentedFunctionReference-BodyD-Column2-Body1">Creating <i>Lua</i> UDFs</td>
                        </tr>
                        <tr class="TableStyle-IndentedFunctionReference-Body-Body1">
                            <td class="TableStyle-IndentedFunctionReference-BodyE-Column1-Body1"><a href="Scripting.htm">Scripting</a> <![CDATA[ ]]></td>
                            <td class="TableStyle-IndentedFunctionReference-BodyD-Column2-Body1">Creating <i>Lua</i> scripts</td>
                        </tr>
                        <tr class="TableStyle-IndentedFunctionReference-Body-Body1">
                            <td class="TableStyle-IndentedFunctionReference-BodyE-Column1-Body1"><i><a href="eXtremeSQL_Interface.htm"><i>e</i>X<i>treme</i>SQL Interface</a></i>
                            </td>
                            <td class="TableStyle-IndentedFunctionReference-BodyD-Column2-Body1">How Lua interfaces with <i>e</i>X<i>treme</i>SQL</td>
                        </tr>
                        <tr class="TableStyle-IndentedFunctionReference-Body-Body1">
                            <td class="TableStyle-IndentedFunctionReference-BodyE-Column1-Body1"><a href="Tips_and_Tricks.htm">Tips and Tricks</a>
                            </td>
                            <td class="TableStyle-IndentedFunctionReference-BodyD-Column2-Body1">Some important tips </td>
                        </tr>
                        <tr class="TableStyle-IndentedFunctionReference-Body-Body1">
                            <td class="TableStyle-IndentedFunctionReference-BodyE-Column1-Body1"><a href="API_Reference.htm">API Reference</a>
                            </td>
                            <td class="TableStyle-IndentedFunctionReference-BodyD-Column2-Body1">The <i>e</i>X<i>treme</i>SQL Lua API reference </td>
                        </tr>
                        <tr class="TableStyle-IndentedFunctionReference-Body-Body1">
                            <td class="TableStyle-IndentedFunctionReference-BodyB-Column1-Body1"><a href="../../../Appendix/lua-5.3.4/doc/manual.html">Lua Reference Manual</a>
                            </td>
                            <td class="TableStyle-IndentedFunctionReference-BodyA-Column2-Body1">The <i>Lua</i> Language Reference Manual</td>
                        </tr>
                    </tbody>
                </table>
            </blockquote>
            <p style="font-size: 6pt;margin-top: 0;margin-bottom: 0;">&#160;</p>
            <hr width="100%" size="0" align="center" />
            <p class="copyright" style="font-size: 8pt;"><a href="../../../Copyright_Notice.htm" title="Copyright Notice" alt="Copyright Notice">Â© 2001-2019 McObject LLC. All rights reserved</a>.</p>
            <p class="copyright" style="font-size: 8pt;">&#160;</p>
            <p class="copyrightFeedback" style="font-size: 8pt;"><a href="mailto:Support@McObject.com?subject=Online Documentation feedback">Send feedback</a> <span style="color: #000000;">on this topic to McObject. </span></p>
        </div>
    </body>
    <script id="MCO-LINKS">/* <![CDATA[ */
		(function(){
		var isFramed = false;
		try {
		isFramed = window != window.top || document != top.document || self.location != top.location;
		} catch (e) {
		isFramed = true;
		}
		if (!isFramed) {
		var link1 = document.createElement('a');
		link1.setAttribute('href','#');
		link1.setAttribute('id','back-id');
		link1.setAttribute('title','Go back');
		link1.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="#555555"><path d="M0 0h24v24H0z" fill="none" /><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z" /></svg>';
		var link2 = document.createElement('a');
		link2.setAttribute('href','/');
		link2.setAttribute('title','Go to mcobject.com');
		link2.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="#555555"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z" /><path d="M0 0h24v24H0z" fill="none" /></svg>';
		var link3 = document.createElement('a');
		link3.setAttribute('href','/docs/extremedb.htm');
		link3.setAttribute('title','Go to table of content');
		link3.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="#555555"><path d="M3 9h14V7H3v2zm0 4h14v-2H3v2zm0 4h14v-2H3v2zm16 0h2v-2h-2v2zm0-10v2h2V7h-2zm0 6h2v-2h-2v2z" /><path d="M0 0h24v24H0z" fill="none" /></svg>';
		var el = document.createElement('div');
		el.style.cssText = 'position:fixed;display:flex;flex-direction:column;right:16px;top:8px;background:#f7f7f7;box-shadow:4px 4px 4px #777777;padding:4px 8px;';
		el.appendChild(link1);
		el.appendChild(link2);
		el.appendChild(link3);
		document.body.append(el);
		document.querySelector('#back-id').addEventListener('click',function(e){e.preventDefault(); window.history.back();});
		}
		})();
	/* ]]> */</script>
</html>