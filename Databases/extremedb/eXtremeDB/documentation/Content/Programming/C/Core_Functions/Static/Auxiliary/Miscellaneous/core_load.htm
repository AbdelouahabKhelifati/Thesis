<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="extremedb.xml" data-mc-path-to-help-system="../../../../../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Programming with eXtremeDB|Native APIs|[%=System.LinkedTitle%]|Static API|Auxiliary Interfaces|Miscellaneous">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>mco_core_load</title>
        <link href="../../../../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../../../../../Resources/Stylesheets/KB_Style.css" rel="stylesheet" />
        <link href="../../../../../../Resources/TableStyles/IndentedFunctionReference.css" rel="stylesheet" />
        <script src="../../../../../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../../../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../../../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../../../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../../../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../../../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../../../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="TopicContent">
            <div class="nocontent">
                <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="7" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">ToC path: </span>
                </div>
            </div>
            <h1>mco_core_load</h1>
            <p style="text-indent: 0.5in;">This function loads <i>e</i>X<i>treme</i>DB libraries dynamically.</p>
            <h3>Prototype</h3>
            <div class="code-block"><pre><a name="kanchor87"></a>&#160;
    MCO_RET mco_core_load(	mco_bool disk, mco_bool mvcc, mco_bool shmem, 
                const char *sync_library, 
                const char *memory_library, 
                const char *runtime_path); 
&#160;</pre>
            </div>
            <h3>Arguments</h3>
            <table class="TableStyle-IndentedFunctionReference" style="mc-table-style: url('../../../../../../Resources/TableStyles/IndentedFunctionReference.css');" cellspacing="0">
                <col class="TableStyle-IndentedFunctionReference-Column-Column1" />
                <col class="TableStyle-IndentedFunctionReference-Column-Column2" />
                <tbody>
                    <tr class="TableStyle-IndentedFunctionReference-Body-Body1">
                        <td class="TableStyle-IndentedFunctionReference-BodyE-Column1-Body1">disk</td>
                        <td class="TableStyle-IndentedFunctionReference-BodyD-Column2-Body1">A non-zero (<code>MCO_YES</code>) value means load disk libraries; a zero value (<code>MCO_NO</code>) means load the In-Memory libraries</td>
                    </tr>
                    <tr class="TableStyle-IndentedFunctionReference-Body-Body1">
                        <td class="TableStyle-IndentedFunctionReference-BodyE-Column1-Body1">mvcc</td>
                        <td class="TableStyle-IndentedFunctionReference-BodyD-Column2-Body1">A non-zero value  (<code>MCO_YES</code>) means load the <a href="../../../../../../Users_Guides/Core/MVCC_Transaction_Manager.htm" name="kanchor88">MVCC</a><a name="kanchor89"></a> transaction manager library; a zero value  (<code>MCO_NO</code>) means load the <a href="../../../../../../Users_Guides/Core/MURSIW_Transaction_Manager.htm" name="kanchor90">MURSIW</a> library</td>
                    </tr>
                    <tr class="TableStyle-IndentedFunctionReference-Body-Body1">
                        <td class="TableStyle-IndentedFunctionReference-BodyE-Column1-Body1">shmem</td>
                        <td class="TableStyle-IndentedFunctionReference-BodyD-Column2-Body1">A non-zero value  (<code>MCO_YES</code>) means load the Shared Memory library; a zero value  (<code>MCO_NO</code>) means load the conventional memory library</td>
                    </tr>
                    <tr class="TableStyle-IndentedFunctionReference-Body-Body1">
                        <td class="TableStyle-IndentedFunctionReference-BodyE-Column1-Body1">sync_library</td>
                        <td class="TableStyle-IndentedFunctionReference-BodyD-Column2-Body1">For Unix-Linux only; optionally force the loader to load specific sync library <code>mcos*</code>. If NULL, the loader will select <code>mcoslnx</code> if shared memory is requested, <code>mcoslnxp</code> otherwise</td>
                    </tr>
                    <tr class="TableStyle-IndentedFunctionReference-Body-Body1">
                        <td class="TableStyle-IndentedFunctionReference-BodyE-Column1-Body1">memory_library</td>
                        <td class="TableStyle-IndentedFunctionReference-BodyD-Column2-Body1">For Unix-Linux only; optionally force the loader to load specific memory library <code>mcom*</code>. If NULL, the loader will select <code>mcomipc</code> if shared memory is requested, <code>mcomconv</code> otherwise</td>
                    </tr>
                    <tr class="TableStyle-IndentedFunctionReference-Body-Body1">
                        <td class="TableStyle-IndentedFunctionReference-BodyB-Column1-Body1">runtime_path</td>
                        <td class="TableStyle-IndentedFunctionReference-BodyA-Column2-Body1">For Windows and Unix-Linux; overrides the <i>e</i>X<i>treme</i>DB library search path </td>
                    </tr>
                </tbody>
            </table>
            <h3>Description</h3>
            <blockquote>
                <p>Some <i>e</i>X<i>treme</i>DB components need to link with <i>e</i>X<i>treme</i>DB libraries dynamically. The most common reason is the need to be able to choose the core configuration (transaction manager, local/shared memory, persistence, etc.) at runtime. <i>e</i>X<i>treme</i>DB currently ships with several components that need it, such as <span style="color: #000000; font-style: italic; font-weight: normal;">xSQL</span>, Java, and .NET wrappers.</p>
            </blockquote>
            <blockquote>
                <p>However, <i>e</i>X<i>treme</i>DB core components have mutual dependencies, i.e. there are pairs of libraries that use each other’s functions. This is usually not a problem on Linux and UNIX-like platforms, but it is impossible to build these libraries as standalone DLLs on Windows, since Windows requires all dependencies to be resolved at compile time, which is obviously unattainable with mutual dependencies.</p>
                <p>The solution is to provide “configurations” as separate DLLs on Windows that include all mutually dependent libraries, as well as any extra libraries provided by the distribution (SQL, Cluster, HA and others). An example of a configuration would be “MURSIW + disk + shmem + debug”. A full set of configurations is provided for each of the products that use dynamic core configuration. Furthermore, each of the components that uses configurable core has to manually set up DLL search paths, load the required configuration’s shared library, handle platform-dependent issues, etc.</p>
                <p>To address these issues, two  components are provided: <code>mcocore</code> and <code>mcoloader</code>.</p>
                <p>The <code>mcocore</code> library is essentially the same set of libraries as the other wrappers mentioned above (<span style="color: #000000; font-style: italic; font-weight: normal;">xSQL</span>, Java, .Net wrappers). It packages all interdependent libraries in “configurations”, which are available as separate DLLs on Windows. Unlike the wrappers, <code>mcocore</code> does not include the SQL, Cluster, HA and other components that are “external” to the core. Also, there is no need for <code>mcocore</code> configurations on UNIX systems, so this is a strictly Windows entity.</p>
                <p>The <code>mcoloader</code>  library exports the single function <code>mco_core_load()</code> that allows the application to select the core configuration, and "wrappers around pointers" to the actual <i>e</i>X<i>treme</i>DB core functions (including non-static internal functions).</p>
                <p>So, instead of linking with the <i>e</i>X<i>treme</i>DB core static libraries or loading them dynamically, the application simply links with <code>mcoloader</code>.</p>
                <p>When <code> mco_core_load()</code> is called, it loads the required configuration’s DLL (or shared objects on UNIX) and retrieves addresses for all its functions; the “wrappers” for core functions will call the loaded functions using their addresses. The functions are loaded in the <code>loaderimpl.c</code> file. <i>This file should not be modified manually</i>; it is generated by a script. This script takes in the file containing the list of functions, and generates all the necessary type definitions, variables, functions and loader function calls.</p>
                <p>The <code>mcoloader</code> is currently available for Windows, Linux and macOS. It provides the user with the uniform core configuration interface.</p>
            </blockquote>
            <h3>Return Codes</h3>
            <table class="TableStyle-IndentedFunctionReference" style="mc-table-style: url('../../../../../../Resources/TableStyles/IndentedFunctionReference.css');" cellspacing="0">
                <col class="TableStyle-IndentedFunctionReference-Column-Column1" style="width: 49px;" />
                <col class="TableStyle-IndentedFunctionReference-Column-Column2" />
                <tbody>
                    <tr class="TableStyle-IndentedFunctionReference-Body-Body1">
                        <td class="TableStyle-IndentedFunctionReference-BodyE-Column1-Body1">MCO_S_OK</td>
                        <td class="TableStyle-IndentedFunctionReference-BodyD-Column2-Body1">Core libraries successfully loaded</td>
                    </tr>
                    <tr class="TableStyle-IndentedFunctionReference-Body-Body1">
                        <td class="TableStyle-IndentedFunctionReference-BodyB-Column1-Body1">MCO_E_CORE</td>
                        <td class="TableStyle-IndentedFunctionReference-BodyA-Column2-Body1">The core libraries load failed</td>
                    </tr>
                </tbody>
            </table>
            <p><a href="javascript:void(0);" class="MCHelpControl MCHelpControl-Related relatedTopics" data-mc-topics="Collation Callback Functions|../../../../Structures/Collation_Callback_Functions.htm"><span class="MCHelpControl-RelatedHotSpot_"><img class="MCHelpControl_Image_Icon" src="../../../../../../../Skins/Default/Stylesheets/Images/transparent.gif" height="16" width="16" alt="Related Topics Link Icon" />Related Topics</span></a>
            </p>
            <p style="font-size: 6pt;margin-top: 0;margin-bottom: 0;">&#160;</p>
            <hr width="100%" size="0" align="center" />
            <p class="copyright" style="font-size: 8pt;"><a href="../../../../../../Copyright_Notice.htm" title="Copyright Notice" alt="Copyright Notice">© 2001-2019 McObject LLC. All rights reserved</a>.</p>
            <p class="copyright" style="font-size: 8pt;">&#160;</p>
            <p class="copyrightFeedback" style="font-size: 8pt;"><a href="mailto:Support@McObject.com?subject=Online Documentation feedback">Send feedback</a> <span style="color: #000000;">on this topic to McObject. </span></p>
        </div>
    </body>
    <script id="MCO-LINKS">/* <![CDATA[ */
		(function(){
		var isFramed = false;
		try {
		isFramed = window != window.top || document != top.document || self.location != top.location;
		} catch (e) {
		isFramed = true;
		}
		if (!isFramed) {
		var link1 = document.createElement('a');
		link1.setAttribute('href','#');
		link1.setAttribute('id','back-id');
		link1.setAttribute('title','Go back');
		link1.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="#555555"><path d="M0 0h24v24H0z" fill="none" /><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z" /></svg>';
		var link2 = document.createElement('a');
		link2.setAttribute('href','/');
		link2.setAttribute('title','Go to mcobject.com');
		link2.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="#555555"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z" /><path d="M0 0h24v24H0z" fill="none" /></svg>';
		var link3 = document.createElement('a');
		link3.setAttribute('href','/docs/extremedb.htm');
		link3.setAttribute('title','Go to table of content');
		link3.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="#555555"><path d="M3 9h14V7H3v2zm0 4h14v-2H3v2zm0 4h14v-2H3v2zm16 0h2v-2h-2v2zm0-10v2h2V7h-2zm0 6h2v-2h-2v2z" /><path d="M0 0h24v24H0z" fill="none" /></svg>';
		var el = document.createElement('div');
		el.style.cssText = 'position:fixed;display:flex;flex-direction:column;right:16px;top:8px;background:#f7f7f7;box-shadow:4px 4px 4px #777777;padding:4px 8px;';
		el.appendChild(link1);
		el.appendChild(link2);
		el.appendChild(link3);
		document.body.append(el);
		document.querySelector('#back-id').addEventListener('click',function(e){e.preventDefault(); window.history.back();});
		}
		})();
	/* ]]> */</script>
</html>