<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="extremedb.xml" data-mc-path-to-help-system="../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Programming with eXtremeDB|[%=System.LinkedTitle%]">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>The eXtremeSQL JDBC API</title>
        <link href="../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../Resources/Stylesheets/KB_Style.css" rel="stylesheet" />
        <script src="../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="TopicContent">
            <div class="nocontent">
                <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="7" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">ToC path: </span>
                </div>
            </div>
            <h1>The <i>e</i>X<i>treme</i>SQL JDBC API</h1>
            <p>This topic describes the <i>e</i>X<i>treme</i>SQL JDBC Driver implementation and how to use the JDBC driver to connect to existing <i>e</i>X<i>treme</i>DB databases.</p>
            <p>The <i>e</i>X<i>treme</i>SQL JDBC driver provides access for Java applications to the <i>e</i>X<i>treme</i>SQL server using a widely applicable industry connectivity standard. The <i>e</i>X<i>treme</i>SQL JDBC driver is a pure-java 'Type 3' driver designed for JDK/JRE 1.6.x that interacts with the  <i>e</i>X<i>treme</i>SQL server-side middle-ware that then accesses the <i>e</i>X<i>treme</i>DB database.</p>
            <p>The JDBC driver is very similar to the ODBC driver working in remote SQL mode. It actually implements the client-side of a remote SQL protocol in pure-java and translates JDBC API calls into requests to the <i>e</i>X<i>treme</i>SQL server. This is similar to the effect of using the <i>xSQL</i> utility as  a remote SQL server or using a custom C or C++ application with the <i><a href="C++/Classes/RemoteSqlEngine.htm">RemoteSqlEngine</a></i> API as demonstrated in SDK sample <code><a href="C++/SDK_Samples/SQL_Samples/10-RSQL_Client.htm">api_sql_10_rsql_client</a></code>. However, unlike the ODBC driver, the JDBC driver needs no installation step. It is implemented in the Java archive file <code>extremedb_jdbc.jar</code> in the<code> target/bin</code> directory. </p>
            <h2>Examples</h2>
            <h3>SimpleJDBC</h3>
            <blockquote>
                <p>The SDK sample <code><a href="JDBC/SDK_Samples/Simple_JDBC.htm">SimpleJDBC</a></code> demonstrates how a client application connects to the <i>e</i>X<i>treme</i>SQL JDBC driver and issues simple SQL statements. The connection string syntax is:</p>
                <div class="code-block"><pre>&#160;
    jdbc:extremedb:host:port:connection_timeout:datetime_precision:modes_mask:trace_file
    &#160;</pre>
                </div>
                <p>where the components are as follows:</p>
                <ul>
                    <li value="1"> <code>host:port</code> - the IP address and port number of the <span style="color: #000000; font-style: italic; font-weight: normal;">xSQL</span> server or <code><a href="C++/Classes/SqlServer.htm">SqlServer</a></code> application (the default is <code>localhost:5001</code>)</li>
                    <li value="2"><code>connection_timeout</code> - the database connection timeout (the default is <code>90000</code>)</li>
                    <li value="3"><code>datetime_precision</code> - the <a href="../Users_Guides/Core/Datetime_Fields.htm">datetime resolution</a> for date/time fields (the default is <code>1</code> which means seconds)</li>
                    <li value="4"><code>modes_mask</code> - the compatibility modes(the default is 0; possible values are 1 for "mimic PostgeSQL", which is necessary  for the <i>WebFocus</i> business edition)</li>
                    <li value="5">trace_file - the filename for <a href="../Users_Guides/Core/Tracing_Framework.htm">tracing</a> output (default is no tracing)</li>
                </ul>
                <p>It is possible to specify multiple SQL servers via the JDBC URL that enables the connection to switch between these servers without the need to explicitly reconnect. The JDBC driver is connection can be switched in two ways: </p>
                <ul>
                    <li value="1">automatically when a connection error occurs; the JDBC driver will try to connect and execute the next SQL statement using the next server in a specified list; </li>
                    <li value="2">by explicitly specifying the zero-based identifier of a server with command <code>set_server Id</code>'.</li>
                </ul>
                <p>One important application of this functionality could be to switch between an <a href="../Users_Guides/HA/HA_Overview.htm">HA_Overview.htm</a> <i>master</i> and <i>replica</i> application, or between <i><a href="../Users_Guides/Cluster/CL_Introduction.htm">cluster</a></i> nodes.</p>
                <p>Some examples of different <code>url</code> specifications follow:</p>
                <div class="code-block"><pre>&#160;
    jdbc:extremedb:localhost:9001:90000:1000:1
    &#160;</pre>
                </div>
                <p>This sets the server address to <code>localhost</code> on port <code>9001</code>, with <code>connection_timeout</code> of <code>90</code> seconds, datetime resolution in milliseconds and with the "mimic PostgeSQL" option enabled.</p>
                <div class="code-block"><pre>    &#160;
    jdbc:extremedb:localhost
&#160;</pre>
                </div>
                <p>This sets the server address to <code>localhost</code> on default port <code>5001</code>, with default <code>connection_timeout</code> of <code>90</code> seconds, and default datetime resolution in seconds.</p>
                <div class="code-block"><pre>    &#160;
    jdbc:extremedb:localhost:::1000
&#160;</pre>
                </div>
                <p>This sets the server address to <code>localhost</code> on default port <code>5001</code>, with default <code>connection_timeout</code> of <code>90</code> seconds, and datetime resolution in milliseconds.</p>
                <div class="code-block"><pre>    &#160;
    jdbc:extremedb:192.168.49.1:8301::::trace.dbg
    &#160;</pre>
                </div>
                <p>This sets the server address to <code>192.168.49.1</code> on port <code>8301</code>, with default <code>connection_timeout</code> of <code>90</code> seconds, default datetime resolution in seconds and tracing output to file <code>trace.dbg</code>.</p>
                <p>Alternatively, it is possible to specify driver properties (<code>property_name = value</code> tuples) in the driver manager for JDBC-enabled utilities. Custom JDBC driver manager programs should use the <i>DriverManager</i> method <code>getConnection(String url, Properties info)</code> to obtain the <i>Properties</i> class instance <code>info</code>; then set the following properties in the <code>info</code> object: <code>connection_timeout</code>, <code>datetime_precision</code>, <code>modes_mask</code> and <code>trace_file</code>. Also, the driver property <code>encoding</code> can be set; it is <code>UTF-8</code> by default. When specified in the connection <code>url</code>, any of these connection parameters override the driver property in the configuration file.</p>
            </blockquote>
            <h3>JDBCBatch</h3>
            <blockquote>
                <p>The SDK sample <code><a href="JDBC/SDK_Samples/JDBC_Batch.htm">JDBCBatch</a></code> demonstrates batch processing with JDBC.</p>
            </blockquote>
            <h2>JDBC and <i>e</i>X<i>treme</i>DB<i> High Availability</i></h2>
            <p>When using JDBC with <i>e</i>X<i>treme</i>DB<i> High Availability</i> it is possible to specify multiple SQL servers via the JDBC URL in order to be able to switch between these servers within a single connection and without any additional re-connect procedure. This capability can be used to switch between <i>e</i>X<i>treme</i>DB<i> High Availability</i> master and replica applications or between nodes in an <i style="font-weight: normal;">e</i>X<i style="font-weight: normal;">treme</i>DB <i style="font-weight: normal;">Cluster</i> network. The current server the JDBC driver is connected to can be switched in two ways: </p>
            <ul>
                <li value="1">automatically when a connection error occurs: the JDBC driver will try to connect and execute the next SQL statement using the next server in a list; or </li>
                <li value="2">by specifying the identifier (zero-based) of a server in the list by executing command <code>set_server Id</code>.</li>
            </ul>
            <p>The list of servers is specified by adding a semicolon delimiter between host:port pairs in the URL. For example:</p>
            <div class="code-block"><pre>&#160;
    jdbc:extremedb:host1:port1;host2:port2;host3:port3
    &#160;</pre>
            </div>
            <h2>Data Compression with JDBC</h2>
            <p>The JDBC driver supports data compression by setting the property "compression_level". Valid values for the compression level are 0 through 9: 0 = no compression; 1 = best speed, 9 - best compression. </p>
            <p>For example:</p>
            <div class="code-block"><pre>&#160;
    java.util.Properties props = new java.util.Properties();
    props.setProperty("compression_level", "9");
    con = DriverManager.getConnection(url, props);
    &#160;</pre>
            </div>
            <p style="font-size: 6pt;margin-top: 0;margin-bottom: 0;">&#160;</p>
            <hr width="100%" size="0" align="center" />
            <p class="copyright" style="font-size: 8pt;"><a href="../Copyright_Notice.htm" title="Copyright Notice" alt="Copyright Notice">© 2001-2019 McObject LLC. All rights reserved</a>.</p>
            <p class="copyright" style="font-size: 8pt;">&#160;</p>
            <p class="copyrightFeedback" style="font-size: 8pt;"><a href="mailto:Support@McObject.com?subject=Online Documentation feedback">Send feedback</a> <span style="color: #000000;">on this topic to McObject. </span></p>
        </div>
    </body>
    <script id="MCO-LINKS">/* <![CDATA[ */
		(function(){
		var isFramed = false;
		try {
		isFramed = window != window.top || document != top.document || self.location != top.location;
		} catch (e) {
		isFramed = true;
		}
		if (!isFramed) {
		var link1 = document.createElement('a');
		link1.setAttribute('href','#');
		link1.setAttribute('id','back-id');
		link1.setAttribute('title','Go back');
		link1.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="#555555"><path d="M0 0h24v24H0z" fill="none" /><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z" /></svg>';
		var link2 = document.createElement('a');
		link2.setAttribute('href','/');
		link2.setAttribute('title','Go to mcobject.com');
		link2.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="#555555"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z" /><path d="M0 0h24v24H0z" fill="none" /></svg>';
		var link3 = document.createElement('a');
		link3.setAttribute('href','/docs/extremedb.htm');
		link3.setAttribute('title','Go to table of content');
		link3.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="#555555"><path d="M3 9h14V7H3v2zm0 4h14v-2H3v2zm0 4h14v-2H3v2zm16 0h2v-2h-2v2zm0-10v2h2V7h-2zm0 6h2v-2h-2v2z" /><path d="M0 0h24v24H0z" fill="none" /></svg>';
		var el = document.createElement('div');
		el.style.cssText = 'position:fixed;display:flex;flex-direction:column;right:16px;top:8px;background:#f7f7f7;box-shadow:4px 4px 4px #777777;padding:4px 8px;';
		el.appendChild(link1);
		el.appendChild(link2);
		el.appendChild(link3);
		document.body.append(el);
		document.querySelector('#back-id').addEventListener('click',function(e){e.preventDefault(); window.history.back();});
		}
		})();
	/* ]]> */</script>
</html>